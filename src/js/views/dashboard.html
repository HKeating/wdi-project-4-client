<h1>Welcome {{ dashboard.user.username }}</h1>

<h2>Your Projects:</h2>

<div class="" ng-repeat="project in dashboard.user.projects track by $index">
  <h3><a ui-sref="project({ id: project.id })">{{ project.title }}</a></h3>
  <p>Duration: {{ project.duration }} days</p>
  <p>Milestones: {{ project.milestones.length }}</p>
  <p>Tasks: {{ project.tasks.length }}</p>
  <button ng-click="dashboard.selectToEdit(project.id)" type="button" name="button">Edit Project</button>
  <button type="button" ng-click="dashboard.deleteProject(project)" name="button">Delete Project</button>
</div>


<div class="">
  <form ng-submit="dashboard.createProject()" id="projectForm" name="dashboard.projectForm">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" ng-model="dashboard.newProject.title" name="title" value="">
    </div>
    <div class="form-group">
      <label for="duration">Duration</label>
      <input type="text" onkeypress="return event.charCode >= 48 && event.charCode <= 57" ng-model="dashboard.newProject.duration" name="duration" value="">
    </div>

    <div class="form-group">
      <input type="submit" name="submit" value="Create Project">
    </div>
  </form>
</div>

<div id="updateProject" class="" ng-show="dashboard.showEditForm">
  <form ng-submit="dashboard.updateProject(dashboard.projectToUpdate)" name="dashboard.updateProjectForm">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" ng-model="dashboard.projectToUpdate.title" name="title" value="">
    </div>
    <div class="form-group">
      <label for="duration">Duration</label>
      <input type="text" onkeypress="return event.charCode >= 48 && event.charCode <= 57" ng-model="dashboard.projectToUpdate.duration" name="duration" value="">
    </div>

    <div class="form-group">
      <input type="submit" name="submit" value="Update Project">
    </div>
    <div class="form-group">
      <button ng-click="dashboard.hideEditForm()" type="button" name="hideForm">Cancel</button>
    </div>
  </form>
</div>
